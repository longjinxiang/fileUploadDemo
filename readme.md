## 后端依赖安装

在运行后端代码前，需要安装以下依赖：

**bash**

复制

下载

```
npm install express multer cors
```

## 功能说明

这个Demo实现了以下功能：

1. **分片上传** ：将大文件分割成多个小分片上传
2. **断点续传** ：上传中断后可以从中断处继续上传
3. **进度显示** ：实时显示上传进度
4. **暂停/继续** ：可以暂停上传并在之后继续
5. **文件合并** ：所有分片上传完成后，服务器合并分片为完整文件

## 代码结构说明

### 前端部分

1. **文件选择** ：用户通过 `<input type="file">`选择文件
2. **哈希计算** ：为文件生成唯一标识（简化版，实际应用应使用更可靠的哈希算法）
3. **分片上传** ：将文件分割为多个分片并依次上传
4. **进度跟踪** ：跟踪已上传的分片数量并更新进度条
5. **暂停/继续** ：使用AbortController实现请求中止和继续上传
6. **合并请求** ：所有分片上传完成后通知服务器合并文件

### 后端部分

1. **分片检查** ：检查已上传的分片信息
2. **分片接收** ：接收并保存上传的文件分片
3. **文件合并** ：将所有分片合并为完整文件
4. **临时文件管理** ：使用文件哈希作为临时目录名，便于管理分片

## 实际应用中的改进建议

1. **更安全的文件哈希** ：使用SHA-256等算法计算文件哈希
2. **文件校验** ：合并完成后校验文件完整性
3. **文件清理** ：定期清理未完成的临时分片
4. **身份验证** ：添加上传权限验证
5. **文件存储** ：使用云存储服务如S3替代本地存储
6. **并发控制** ：限制同时上传的分片数量
7. **错误处理** ：更完善的错误处理和重试机制
